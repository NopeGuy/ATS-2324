<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Gestor_Artigos.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">projectPOO2</a> &gt; <a href="index.source.html" class="el_package">TP2</a> &gt; <span class="el_source">Gestor_Artigos.java</span></div><h1>Gestor_Artigos.java</h1><pre class="source lang-java linenums">package TP2;
import java.io.Serializable;
import java.time.LocalDate;
import java.util.HashMap;
import java.util.Map;
import java.util.Set;

public class  Gestor_Artigos implements Serializable   {

    // Variáveis de classe
<span class="nc" id="L11">    private static double taxaNovo = 0.5;</span>
<span class="nc" id="L12">    private static double taxaUsado = 0.25;</span>


    

    // Métodos de classe
    public static double getTaxaNovo() {
<span class="nc" id="L19">        return taxaNovo;</span>
    }

    public static double getTaxaUsado() {
<span class="nc" id="L23">        return taxaUsado;</span>
    }

    public static void setTaxaNovo(double novaTaxa) {
<span class="nc" id="L27">        taxaNovo = novaTaxa;</span>
<span class="nc" id="L28">    }</span>

    public static void setTaxaUsado(double novaTaxa) {
<span class="nc" id="L31">        taxaUsado = novaTaxa;</span>
<span class="nc" id="L32">    }</span>

    private  Map &lt;String ,Artigo&gt;  artigos; 


<span class="nc" id="L37">    public Gestor_Artigos(){</span>
<span class="nc" id="L38">        this.artigos = new HashMap&lt;&gt;();</span>
<span class="nc" id="L39">    }</span>
<span class="nc" id="L40">    public Gestor_Artigos(Map &lt;Integer ,Artigo&gt;  artigos){</span>
<span class="nc" id="L41">        this.artigos = new HashMap&lt;&gt;();</span>
<span class="nc" id="L42">    }</span>
<span class="nc" id="L43">    public Gestor_Artigos(Gestor_Artigos g){</span>
<span class="nc" id="L44">        this.getArtigos();</span>
<span class="nc" id="L45">    }</span>
    public Map&lt;String, Artigo&gt; getArtigos() {
<span class="nc" id="L47">        Map&lt;String, Artigo&gt; copia = new HashMap&lt;&gt;();</span>
<span class="nc bnc" id="L48" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc" id="L49">            copia.put(i, this.artigos.get(i).clone());</span>
        }
<span class="nc" id="L51">        return copia;</span>
    }
    public void setArtigos(Map&lt;String, Artigo&gt; artigos) {
<span class="nc" id="L54">        this.artigos = artigos;</span>
<span class="nc" id="L55">    }</span>
    @Override
    public String toString() {
<span class="nc" id="L58">        StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L59" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L60" title="All 2 branches missed.">            if(this.artigos.get(i).getDisponivel() == true){     </span>
<span class="nc" id="L61">                sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
        }
<span class="nc" id="L63">        return sb.toString();</span>
    }
       public String mostrar_gestor(LocalDate data) {
<span class="nc" id="L66">        StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L68" title="All 2 branches missed.">            if(this.artigos.get(i).getDisponivel() == true){     </span>
<span class="nc" id="L69">                sb.append(this.artigos.get(i).mostrar(data)).append(&quot;\n&quot;);}</span>
        }
<span class="nc" id="L71">        return sb.toString();</span>
    }


    
    public boolean pesquisar_artigo_id(String id){
<span class="nc" id="L77">        Artigo artigo = artigos.get(id);</span>
<span class="nc bnc" id="L78" title="All 2 branches missed.">        if(artigo == null){</span>
<span class="nc" id="L79">            return false;</span>
        }
        else{
<span class="nc" id="L82">            return true;</span>
        }
    }
    @Override
    public boolean equals(Object o) {
<span class="nc bnc" id="L87" title="All 2 branches missed.">        if (this == o)</span>
<span class="nc" id="L88">            return true;</span>
<span class="nc bnc" id="L89" title="All 4 branches missed.">        if (o == null || this.getClass() != o.getClass())</span>
<span class="nc" id="L90">            return false;</span>
<span class="nc" id="L91">        Gestor_Artigos that = (Gestor_Artigos) o;</span>
<span class="nc" id="L92">        return this.artigos.equals(that.getArtigos());</span>
    }
    @Override
    public Gestor_Artigos clone() {
<span class="nc" id="L96">        return (new Gestor_Artigos(this));</span>
    }
// ---------------------------------------------------- Descrição Marca

    public String pesquisar_artigos_marca_sapatilha(String marca){
<span class="nc" id="L101">         StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L102" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L103" title="All 2 branches missed.">            if (this.artigos.get(i) instanceof Sapatilha){</span>
<span class="nc" id="L104">                Sapatilha sapatilhas = (Sapatilha) this.artigos.get(i);</span>
<span class="nc bnc" id="L105" title="All 4 branches missed.">                if(sapatilhas.getDisponivel() == true  &amp;&amp; sapatilhas.getMarca().equals(marca)){     </span>
<span class="nc" id="L106">                    sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
            }
        }
        
<span class="nc" id="L110">     return (sb.toString());</span>
    }

    public String pesquisar_artigos_marca_tshirt(String marca){
<span class="nc" id="L114">         StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L115" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L116" title="All 2 branches missed.">            if (this.artigos.get(i) instanceof Tshirt){</span>
<span class="nc" id="L117">                Tshirt tshirt = (Tshirt) this.artigos.get(i);</span>
<span class="nc bnc" id="L118" title="All 4 branches missed.">                if(tshirt.getDisponivel() == true  &amp;&amp; tshirt.getMarca().equals(marca)){     </span>
<span class="nc" id="L119">                    sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
            }
        }
<span class="nc" id="L122">     return (sb.toString());</span>
    }

    public String pesquisar_artigos_marca_mala(String marca){
<span class="nc" id="L126">            StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L127" title="All 2 branches missed.">            for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L128" title="All 2 branches missed.">                if (this.artigos.get(i) instanceof Mala){</span>
<span class="nc" id="L129">                    Mala mala = (Mala) this.artigos.get(i);</span>
<span class="nc bnc" id="L130" title="All 4 branches missed.">                    if(mala.getDisponivel() == true  &amp;&amp; mala.getMarca().equals(marca)){     </span>
<span class="nc" id="L131">                        sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
                }
            }
<span class="nc" id="L134">        return (sb.toString());</span>
    }

// ----------------------------------------------------  Novo

    public String pesquisar_artigos_novo_sapatilhas(Boolean novo){
<span class="nc" id="L140">         StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L141" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">            if (this.artigos.get(i) instanceof Sapatilha){</span>
<span class="nc" id="L143">                Sapatilha sapatilhas = (Sapatilha) this.artigos.get(i);</span>
<span class="nc bnc" id="L144" title="All 4 branches missed.">                if(sapatilhas.getDisponivel() == true  &amp;&amp; sapatilhas.getNovo() == novo){     </span>
<span class="nc" id="L145">                    sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
            }
        }
<span class="nc" id="L148">     return (sb.toString());</span>
    }

    public String pesquisar_artigos_novo_tshirt(Boolean novo){
<span class="nc" id="L152">         StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L153" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L154" title="All 2 branches missed.">            if (this.artigos.get(i) instanceof Tshirt){</span>
<span class="nc" id="L155">                Tshirt tshirt = (Tshirt) this.artigos.get(i);</span>
<span class="nc bnc" id="L156" title="All 4 branches missed.">                if(tshirt.getDisponivel() == true  &amp;&amp; tshirt.getNovo() == novo){     </span>
<span class="nc" id="L157">                    sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
            }
        }
<span class="nc" id="L160">     return (sb.toString());</span>
    }

    public String pesquisar_artigos_novo_mala(Boolean novo){
<span class="nc" id="L164">            StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L165" title="All 2 branches missed.">            for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L166" title="All 2 branches missed.">                if (this.artigos.get(i) instanceof Mala){</span>
<span class="nc" id="L167">                    Mala mala = (Mala) this.artigos.get(i);</span>
<span class="nc bnc" id="L168" title="All 4 branches missed.">                    if(mala.getDisponivel() == true  &amp;&amp; mala.getNovo() == novo){     </span>
<span class="nc" id="L169">                        sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
                }
            }
<span class="nc" id="L172">        return (sb.toString());</span>
    }
//---------------------------------------------------- Tamanho   
    public String pesquipesquisar_artigos_tamanho_sapatilhas(int tamanho){
<span class="nc" id="L176">         StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L177" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L178" title="All 2 branches missed.">            if (this.artigos.get(i) instanceof Sapatilha){</span>
<span class="nc" id="L179">                Sapatilha sapatilhas = (Sapatilha) this.artigos.get(i);</span>
<span class="nc bnc" id="L180" title="All 4 branches missed.">                if(sapatilhas.getDisponivel() == true  &amp;&amp;  sapatilhas.getTamanho() == tamanho){     </span>
<span class="nc" id="L181">                    sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
            }
        }
<span class="nc" id="L184">     return (sb.toString());</span>
    } 
    public String pesquipesquisar_artigos_tamanho__tshit(Tamanho tamanho){
<span class="nc" id="L187">            StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L188" title="All 2 branches missed.">            for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L189" title="All 2 branches missed.">                if (this.artigos.get(i) instanceof Tshirt){</span>
<span class="nc" id="L190">                    Tshirt tshirt = (Tshirt) this.artigos.get(i);</span>
<span class="nc bnc" id="L191" title="All 4 branches missed.">                    if(tshirt.getDisponivel() == true  &amp;&amp;  tshirt.getTamanho().equals(tamanho)){     </span>
<span class="nc" id="L192">                        sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
                }
            }
<span class="nc" id="L195">        return (sb.toString());</span>
    } 
    public String pesquisar_artigos_dimensão_mala(int dimensao){
<span class="nc" id="L198">            StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L199" title="All 2 branches missed.">            for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L200" title="All 2 branches missed.">                if (this.artigos.get(i) instanceof Mala){</span>
<span class="nc" id="L201">                    Mala mala = (Mala) this.artigos.get(i);</span>
<span class="nc bnc" id="L202" title="All 4 branches missed.">                    if(mala.getDisponivel() == true  &amp;&amp;  mala.getDimensao() == dimensao){     </span>
<span class="nc" id="L203">                        sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
                }
            }
<span class="nc" id="L206">        return (sb.toString());</span>
    }     


//---------------------------------------------------- Cor
    public String pesquisar_artigos_cor(String cor){
<span class="nc" id="L212">         StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L213" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L214" title="All 2 branches missed.">            if (this.artigos.get(i) instanceof Sapatilha){</span>
<span class="nc" id="L215">                Sapatilha sapatilhas = (Sapatilha) this.artigos.get(i);</span>
<span class="nc bnc" id="L216" title="All 4 branches missed.">            if(this.artigos.get(i).getDisponivel() == true  &amp;&amp; sapatilhas.getCor().equals(cor)){      </span>
<span class="nc" id="L217">                sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
            }
        }
<span class="nc" id="L220">        return (sb.toString());</span>

    }
//----------------------------------------------------  Padrão das t-shits
    public String pesquisar_artigos_padrao(Padrao padrao){
<span class="nc" id="L225">         StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L227" title="All 2 branches missed.">            if (this.artigos.get(i) instanceof Tshirt){</span>
<span class="nc" id="L228">                Tshirt tshirt = (Tshirt) this.artigos.get(i);</span>
<span class="nc bnc" id="L229" title="All 4 branches missed.">            if(this.artigos.get(i).getDisponivel() == true  &amp;&amp; tshirt.getPadrao().equals(padrao)) {    </span>
<span class="nc" id="L230">                sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
            }
        }
<span class="nc" id="L233">     return (sb.toString());</span>
    }
    

// ---------------------------------------------------- Material
     public String pesquisar_artigos_material(String material){
<span class="nc" id="L239">        StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L240" title="All 2 branches missed.">        for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L241" title="All 2 branches missed.">            if(this.artigos.get(i) instanceof Mala){</span>
<span class="nc" id="L242">                Mala mala = (Mala) this.artigos.get(i);</span>
<span class="nc bnc" id="L243" title="All 4 branches missed.">                if( mala.getDisponivel() == true  &amp;&amp; mala.getMaterial().equals(material)){     </span>
<span class="nc" id="L244">                    sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
                }
            }
<span class="nc" id="L247">            return (sb.toString());</span>
        }


// ---------------------------------------------------- Ano 
  public String pesquisar_artigos_ano_colecao(int ano){
<span class="nc" id="L253">    StringBuilder sb = new StringBuilder();</span>
<span class="nc bnc" id="L254" title="All 2 branches missed.">    for (String i : this.artigos.keySet()) {</span>
<span class="nc bnc" id="L255" title="All 2 branches missed.">        if(this.artigos.get(i) instanceof Mala){</span>
<span class="nc" id="L256">            Mala mala = (Mala) this.artigos.get(i);</span>
<span class="nc bnc" id="L257" title="All 4 branches missed.">            if(mala.getDisponivel() == true  &amp;&amp; mala.getAno_colecao() == ano){     </span>
<span class="nc" id="L258">                sb.append(this.artigos.get(i).toString()).append(&quot;\n&quot;);}</span>
            }
        }
<span class="nc" id="L261">        return (sb.toString());</span>
  }

  // Método que adiciona um artigo
  private String adicionaArtigo(Artigo a){
<span class="nc" id="L266">      this.artigos.put(a.getCodigo_barras(), a);</span>
<span class="nc" id="L267">      return a.getCodigo_barras();</span>
  }

  // ---------------------------------------------------- Adicionar artigo
  public String criar_artigo_sapatilhas(String descricao, String marca, double preco_base, boolean uso, int estado_uso, int n_utilizadores, Long transportadora, long vendedor, int tamanho, boolean atacadores, String cor, int anoColecao, boolean premium, double desconto){
<span class="nc" id="L272">        Artigo sapatilhas = new Sapatilha( descricao,  marca,  preco_base,  uso,  estado_uso,  n_utilizadores,  transportadora,  vendedor,  tamanho, atacadores,  cor,  anoColecao,  premium,  desconto);</span>
<span class="nc" id="L273">        return (this.adicionaArtigo(sapatilhas));</span>
    }

    public String criar_artigo_tshirt (String descricao, String marca, double preco_base, boolean uso, int estado_uso, int n_utilizadores, long transportadora, Long vendedor, Tamanho tamanho, Padrao padrao){
<span class="nc" id="L277">        Artigo tshirt = new Tshirt (descricao,  marca,  preco_base,  uso,  estado_uso,  n_utilizadores,  transportadora,  vendedor,  tamanho,  padrao);</span>
<span class="nc" id="L278">        return (this.adicionaArtigo(tshirt));</span>

    }
    public String criar_artigo_mala(String descricao, String marca, double preco_base, boolean uso, int estado_uso, int n_utilizadores, long transportadora, long vendedor, int dimensao, String material, int ano_colecao, Boolean premium, float valorizacao){
<span class="nc" id="L282">        Artigo mala = new Mala ( descricao,  marca,  preco_base,  uso,  estado_uso,  n_utilizadores,  transportadora,  vendedor,  dimensao,  material,  ano_colecao,  premium,  valorizacao);</span>
<span class="nc" id="L283">        return (this.adicionaArtigo(mala));</span>
    }



// ---------------------------------------------------- Tirar de disponivel o artigo
    public long tirar_disponivel_artigo(String codigo_barras) throws ArtigoNaoEncontradoException{
<span class="nc bnc" id="L290" title="All 2 branches missed.">        if(this.artigos.containsKey(codigo_barras) == false){</span>
<span class="nc" id="L291">            throw new ArtigoNaoEncontradoException(&quot;O artigo &quot;+codigo_barras+&quot; não existe!&quot;); </span>
        }
        else{
<span class="nc" id="L294">        this.artigos.get(codigo_barras).setDisponivel(false);</span>
<span class="nc" id="L295">        return this.artigos.get(codigo_barras).getIdVendedor();</span>
        }
    }
// ---------------------------------------------------- Colocar disponivel o artigo
    public long colocar_disponivel_artigo(String codigo_barras) throws ArtigoNaoEncontradoException{
<span class="nc bnc" id="L300" title="All 2 branches missed.">        if(this.artigos.containsKey(codigo_barras) == false){</span>
<span class="nc" id="L301">            throw new ArtigoNaoEncontradoException(&quot;O artigo &quot;+codigo_barras+&quot; não existe!&quot;);</span>
        }

        else{
<span class="nc" id="L305">        this.artigos.get(codigo_barras).setDisponivel(true);</span>
<span class="nc" id="L306">        return this.artigos.get(codigo_barras).getIdVendedor();</span>
        }
    }
// --------------------------------------------------- Id de artigo para id de vendedor
    public Long id_artigo_para_id_vendedor(String codigo_barras){
<span class="nc" id="L311">        return this.artigos.get(codigo_barras).getIdVendedor();</span>
    }
// --------------------------------------------------- Id de artigo para id de transportadora
    public Long id_artigo_para_id_transportadora(String codigo_barras){
<span class="nc" id="L315">        return this.artigos.get(codigo_barras).getIdTransportadora();</span>
    }

    public String artigoToString (String idArtigo){
<span class="nc" id="L319">        return this.artigos.get(idArtigo).toString();</span>
    }

    // Método que recebe uma Encomenda finalizada 
    // e altera a data de venda dos artigos
    public void alteraData(Encomenda e){
<span class="nc" id="L325">        Set&lt;String&gt; idsArtigos = e.getEncomenda();</span>

<span class="nc bnc" id="L327" title="All 2 branches missed.">        for(String s : idsArtigos){</span>
<span class="nc bnc" id="L328" title="All 2 branches missed.">            if(this.artigos.get(s).getDisponivel() == false){</span>
<span class="nc" id="L329">                this.artigos.get(s).setData_venda(e.getDataEntrega());</span>
<span class="nc" id="L330">            }</span>
            else{
<span class="nc" id="L332">                return;</span>
                //Temos que adicionar uma exceção
            }
        }
<span class="nc" id="L336">    }</span>

    // Método que recebe um idArtigo e passa a data de venda para predefinido
    // Usar quando se devolver os artigos
    public void alteraDataToInicio(String idArtigo){
<span class="nc" id="L341">        this.artigos.get(idArtigo).setData_venda(LocalDate.MIN);</span>
<span class="nc" id="L342">    }</span>

    // Método que calcula a valor total das vendas desde sempre de um
    // vendedor
    // Recebe um set de ids -- Query 1
    public double vendaTotal(Set&lt;String&gt; idsArtigos, LocalDate data){
<span class="nc" id="L348">        double preco =0;</span>

<span class="nc bnc" id="L350" title="All 2 branches missed.">        for(String s : idsArtigos){</span>
<span class="nc" id="L351">            preco += this.artigos.get(s).preco_atual(data);</span>
        }

<span class="nc" id="L354">        return preco;</span>
    }

    public double precoFaturou(Set &lt;String&gt; idsArtigos, LocalDate data){
<span class="nc" id="L358">        double preco =0;</span>
<span class="nc bnc" id="L359" title="All 2 branches missed.">        for(String s : idsArtigos){</span>
<span class="nc bnc" id="L360" title="All 2 branches missed.">            if(this.artigos.get(s).getNovo() == true) preco -= taxaNovo;</span>
<span class="nc" id="L361">            else preco -= taxaUsado;</span>
<span class="nc" id="L362">            preco += this.artigos.get(s).preco_atual(data);</span>
        }
<span class="nc" id="L364">        return preco;</span>
    }

    public double precoFaturouTempo(Set &lt;String&gt; idsArtigos, LocalDate inicio, LocalDate fim){
<span class="nc" id="L368">        double preco =0;</span>
<span class="nc bnc" id="L369" title="All 2 branches missed.">        for(String s : idsArtigos){</span>
<span class="nc bnc" id="L370" title="All 4 branches missed.">            if(this.artigos.get(s).getData_venda().isAfter(inicio) &amp;&amp; this.artigos.get(s).getData_venda().isBefore(fim)){</span>
<span class="nc bnc" id="L371" title="All 2 branches missed.">                if(this.artigos.get(s).getNovo() == true) preco -= taxaNovo;</span>
<span class="nc" id="L372">                else preco -= taxaUsado;</span>
<span class="nc" id="L373">                preco += this.artigos.get(s).preco_atual(this.artigos.get(s).getData_venda());</span>
            }
        }
<span class="nc" id="L376">        return preco;</span>
        
    } 
    public double vintageFaturou(){
<span class="nc" id="L380">        double preco =0;</span>
<span class="nc bnc" id="L381" title="All 2 branches missed.">        for(Artigo a : this.artigos.values()){</span>
<span class="nc bnc" id="L382" title="All 2 branches missed.">            if(a.getData_venda().equals(LocalDate.MIN) == false ){</span>
<span class="nc bnc" id="L383" title="All 2 branches missed.">                if(a.getNovo() == false) preco +=  taxaUsado;</span>
<span class="nc" id="L384">                else preco += taxaNovo;</span>
                }
            }
<span class="nc" id="L387">        return preco;</span>
    }

    // Método que conta o nº de artigos que estão entre duas datas
    public int entreDatas(Set &lt;String&gt; idsArtigos ,LocalDate inicio, LocalDate fim){
<span class="nc" id="L392">        int quantidade =0;</span>
<span class="nc bnc" id="L393" title="All 2 branches missed.">        for(String s : idsArtigos){</span>
<span class="nc bnc" id="L394" title="All 4 branches missed.">            if(this.artigos.get(s).getData_venda().isAfter(inicio) &amp;&amp; this.artigos.get(s).getData_venda().isBefore(fim)){</span>
<span class="nc" id="L395">                quantidade += 1;</span>
            }
        }
<span class="nc" id="L398">        return quantidade;</span>
    }



}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>